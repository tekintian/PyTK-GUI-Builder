<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Menus &#8212; PAGE 8 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/default.css?v=d68dce72" />
    <script src="_static/documentation_options.js?v=ae4d74f5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Rework" href="rework.html" />
    <link rel="prev" title="Using PAGE" href="use.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="menus">
<h1>Menus<a class="headerlink" href="#menus" title="Link to this heading">¶</a></h1>
<p>PAGE supports menubars, menubuttons, and context menus, also called
popup menus, and provides a Menu Editor for creating and modifying
them. Menubars are obviously associated with particular toplevel. So
are popup menus which allows projects having multiple windows to have
popup menus without the worry of name clashes.</p>
<p>The appearance of a popup menu occurs as the action of an event
associated with a widget. That action is selection with
Button-3. Of course, that binding is specified using the Bindings
Window.</p>
<p>There is a Menu Editor which facilitates the creation and modification
of all the menus for PAGE.</p>
<p>Menu bar appearance in OS X differs from that in Windows and Linux - no
surprise. The differences are illustrated below:</p>
<ol class="arabic">
<li><p>In Linux and Windows menubars appear at the top of the associated
toplevel widget. With OS X they appear at the top of the screen.</p></li>
<li><p>In Linux and Windows menubars may contain commands as well as
submenu or cascade entries, whereas in OS X the menubar at the top
of the screen appears to only display cascade entries.</p></li>
<li><p>With Linux one can specify fonts and colors; in Windows, colors; in
OS X your stuck with OS X choices.</p>
<p>Let’s illustrate some differences using the menu example. See <a class="reference internal" href="examples.html#menus"><span class="std std-ref">Menus</span></a></p>
</li>
</ol>
<p id="menu-example">Linux:</p>
<img alt="_images/menu-l.png" src="_images/menu-l.png" />
<p>Windows:</p>
<img alt="_images/menu-w.png" src="_images/menu-w.png" />
<p>OS X:</p>
<img alt="_images/menu-o.png" src="_images/menu-o.png" />
<p>I have seen numerous style recommendations that all endorse having
only cascade submenus in menubars in as enforced in OS X.  It is important
to remember the differences among the OS’s if one develops
applications to run across different OS’s. It’s a case where the tail
is wagging the dog.</p>
<section id="menu-attributes">
<span id="newmenu"></span><h2>Menu Attributes<a class="headerlink" href="#menu-attributes" title="Link to this heading">¶</a></h2>
<p>Menu entries have color and font attributes and there are defaults for
them and the attributes can be changed in the Menu Editor. Let us
consider the way menu attributes are handled in Linux because that is
the most general case. You can see in the Linux example above that
there are different fonts and colors available.</p>
<p>Tk and so tkinter define default background colors, an unappetizing
gray, and a tiny font, TkMenuFont.  With the Preference window (opened
from the Main menu: File -&gt; Preferences…) one can specify default
foreground and background colors as well as a font for the menus which
will override the Tk defaults and apply to all menu entries.</p>
<p>When one creates a menu using the Menu Editor a menu widget is created
with the default attributes. One could expect any changed attributes
in the top menu to apply as defaults to all subsequent entries in the
entire menu, at least I did. However, that is not the case, those
attributes apply only to the entries directly created under that
menu. If you add cascade entries the cascade creates a new menu entry
with the same defaults discussed in the preceding paragraph. For
example, if you want all of the entries in the complete menu tree to
have a background color different from the defaults, you have to
change the background color for each of the submenu menu widgets, i.e.
the &lt;menu&gt; items in the Menu Editor.</p>
<p>The crucial sentence in the official Tk man page for the menu entry
option background is:
“If this option is specified as an empty string (the default), then
the -background option for the overall menu is used.”  My
interpretation of the phrase “overall menu” is different from that of
the Tk implementer. He obviously interpreted it to mean the current
submenu. This sentence with only a one word change appears for all of
the color and font entry attributes.</p>
</section>
<section id="menu-creation">
<h2>Menu Creation<a class="headerlink" href="#menu-creation" title="Link to this heading">¶</a></h2>
<p>The menu capability that I use most often is put a menubar at the top
of a top level window.</p>
<p><strong>To create a menu bar</strong>, one invokes
the Menu Editor in one of several ways:</p>
<ol class="arabic simple">
<li><p>Select the toplevel window and then select &lt;click-to-edit&gt; menu field in the Attribute Editor,</p></li>
<li><p>Right click (Button-3) in the Toplevel widget and select Widget-&gt;Edit Menu,</p></li>
<li><p>Right click on the Toplevel widget
in the Widget Tree and select Widget-&gt;Edit Menu.</p></li>
<li><p>Double click on the Toplevel entry in the Widget Tree.</p></li>
<li><p>Double click on the Menubar entry in the Widget Tree.</p></li>
</ol>
<p>As you edit the menu you will see the menu bar changes appear in the
Toplevel Widget; you can select a cascade entry and see sub menus.</p>
<p><strong>To create a popup menu</strong>,</p>
<ol class="arabic simple">
<li><p>Select the Popupmenu widget in the Widget Toolbar.</p></li>
<li><p>Select the toplevel window to contain the popup menu.</p></li>
<li><p>Invoke the Menu Editor to specify the menu content by:</p></li>
</ol>
<ul class="simple">
<li><p>Right clicking on that Popupmenu widget icon in the Widget Tree and
select Widget-&gt;Edit Menu.</p></li>
<li><p>Double clicking on the Popupmenu widget icon in the Widget Tree.</p></li>
<li><p>Selecting the Popupmenu widget and then the &lt;click-to-edit&gt; menu field
in the Attribute Editor.</p></li>
</ul>
<p>No Popupmenu widget appears in the toplevel window because that would
have no meaning. Popup menu widgets do appear in the Widget Tree and
are manipulated from there. Popup menu widgets have attributes such as
colors, fonts and commands that can be modified in the Attribute
Editor as well as the Menu Editor.  As you edit the popup menu you
will not see anything changes in PAGE windows.  You can have more than
one popup window and a popup window can be associated with more than
one widget. The popup menus are called Popupmenu1, Popupmenu2,
etc. based on the Alias entry of the Attribute Editor; in turn, they
are implemented as class functions of the associated toplevel widget
and are named popup0, popup1, etc. .</p>
<p><strong>To create a menubutton</strong>,</p>
<ol class="arabic simple">
<li><p>To create either a Menubutton or a TMenubutton select the
menubutton entry from the Widget Toolbar and place it in a
toplevel like you would place a Button or a TButton.</p></li>
<li><p>Make appropriate entries in the Attribute Editor.</p></li>
<li><p>Invoke the Menu Editor to create the associated menu in one of
several ways: Double click on the widget, Double click on the
widget entry in the Widget Tree, or by selecting the value field
of the “menu” entry in the Attribute Editor.</p></li>
</ol>
<p>Note that the Widget Tree shows menu bars and popup menus as child widgets of a
toplevel widget.</p>
</section>
<section id="menu-editor">
<h2>Menu Editor<a class="headerlink" href="#menu-editor" title="Link to this heading">¶</a></h2>
<p>The Menu Editor creates and modifies menus. It is invoked as above.</p>
<p>Some of the items in a menu may be simple commands like “Quit” which
invokes your quit function in the support module. Others are cascade
menus like File which are sub-menus of items like “New”, “Open”,
“Save”, etc. To specify an action like the “Quit” example,</p>
<ul class="simple">
<li><p>Select the &lt;Menu&gt; item at the top of the left field.</p></li>
<li><p>Insert-&gt;Command.</p></li>
<li><p>Select the entry “New Command”.</p></li>
<li><p>Go to the label entry on the right hand side of the editor and
change the label to Quit and hit the enter key.</p></li>
<li><p>Go to the command entry and enter the name of your quit command and
hit the return key.</p></li>
<li><p>You can change any of the options shown in the right window of the
Menu Editor, like background color, font, etc.</p></li>
<li><p>Images are added to the menu item by selecting the ellipsis to the
right of the image option and using the file open dialog to select
the image file.</p></li>
<li><p>Use the arrow buttons or Move menu to move the selection up or down
as desired.</p></li>
</ul>
<p>To specify a cascade menu like File,</p>
<ul class="simple">
<li><p>Select the &lt;Menu&gt; item at the top of the left field.</p></li>
<li><p>Insert-&gt;New Cascade.</p></li>
<li><p>Go to the label entry on the right and Enter File.</p></li>
<li><p>Use the arrow buttons or Move menu to move the selection up or down
as desired.</p></li>
</ul>
<p>To add Open to the File menu,</p>
<ul class="simple">
<li><p>Select File on the left.</p></li>
<li><p>Insert-&gt;Command</p></li>
<li><p>Select “New Command”</p></li>
<li><p>Change its name as above.</p></li>
<li><p>Specify the command as above.</p></li>
<li><p>Move it up or down as desired.</p></li>
</ul>
<p>Of course, you can add cascaded menus to cascaded menus, etc..</p>
<p>When you are all done hit the Check Button on the right.</p>
<p>The menu editing window is repeated below:</p>
<img alt="_images/menu.png" src="_images/menu.png" />
<p>When adding entries to a cascade menu, that entry can be another
cascade menu. See the reference to the example below.</p>
<p>When creating a menu, one can start by adding either commands which is
most common case or a cascade menu which leads to a second level menu.
Some documentation for menus bars say that one should
only place cascade items in a menubar.  However, I have found it
useful and intuitive to have all kinds of items in the menu bar.</p>
<p>The Menu Editor allows one to change various colors of individual menu
items as well as the fonts for individual items.  Also one should be
able to set preferences for default values of menu fonts and
foreground and background colors. Preference processing does that.
Default values for active foreground and active background are derived
from the color selections for background and foreground.</p>
<p>When adding images to a menu and you have text as well, it is
necessary to set the appropriate value in the compound attribute
telling PAGE whether the image is to be on the left, right, top,
bottom or center relative to the text. Again, while one can insert
into the image entry field an image name, it is not recommended and
the field has been colored orange as a warning.</p>
<p>menu.tcl is included in the examples subdirectory to illustrate some
of the things that I have done to test the menu bar facility. Load it,
generate the Python and execute it. I wrote the example to test the
change in menu fonts and colors as well as having several images and
several level of cascaded menus.  I certainly do not advocate using
weird images, colors and fonts all over the place. But you can.</p>
<p>I am uncertain about the best way to handle fonts in menus.  PAGE now
sets a variable that is used as the default menu font and that
specification is forced everywhere in the menu that is not specified
otherwise. However, once specified it is fixed. You cannot change it
without re-specifying it everywhere it is used.  I may revisit this issue.</p>
<p>The radio menu entry type has options “value” and
“variable” which need attention.  When a radio button is selected, the
variable is set to value. That is, if variable is x and value is a
then x is set to a, when the radio button is selected. The way the
menu editor works is that when a radio entry is added to a
menu, the label and value are set to “NewRadio” and the variable is set
to “selectedButton”. If you wish to use the variable setting then you
must change the variable to a different value, one you wish to
use. PAGE will change create the correct Tkinter Variable Class of
type string. It will also threat the value of the value field as a
string constant. Change that field to a value that works with your
application. Bare in mind that with radio entries in a menu they must
all share a singe variable.</p>
<p>The Check menu entry type has options “onvalue”, “offvalue”, and
“variable” much like radio entries.  The main difference is that the
check entry expects that each entry will have its own variable; they
are not shared.  Again, the PAGE implements the variables as StringVar
objects and “onvalue” and “offvalue” as string constants. The variable
stuff associated with menus can be bypassed by specifying distinct
functions in the command options or by passing distinct parameters to
the command function using the lambda function.</p>
<p>The Separator menu entry actually has a background option which is
treated like the background entry of any other entry type.</p>
</section>
<section id="popup-callback-functions">
<h2>Popup Callback Functions<a class="headerlink" href="#popup-callback-functions" title="Link to this heading">¶</a></h2>
<p>While the callback functions are important for Menubars and
Menubuttons, when defining Popup Menu Callback functions, you need to
take a bit of extra consideration.  Are you just going to be defining
a Popup menu for use from a single widget or will you want to be able
to use the Popup menu from multiple widgets?</p>
<p>The callback function definition is entered into the command text box
in the Attributes editor.  This is no different from defining the
callback function for any other widget.  A ‘normal’ callback function
could look something like this…</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">on_mBarFileOpen</span>
</pre></div>
</div>
<p>You can use this form for any widget that supports the command
attribute.  However, when dealing with Popup menus, you have the
ability to use the same Popup Menu for many different widgets, like
multiple Entry widgets.  The problem doing this is, how do you easily
let the callback function know which widget initiated the callback?
We can use the <strong>lambda</strong> function to solve this.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="p">:</span> <span class="n">on_popupCopy</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</pre></div>
</div>
<p>This works since the lambda call allows your code to send in
additional parameters to the callback function.  See <a class="reference internal" href="#popup-menu-binding"><span class="std std-ref">Popup Menu Binding</span></a></p>
</section>
<section id="popup-menu-binding">
<span id="id1"></span><h2>Popup Menu Binding<a class="headerlink" href="#popup-menu-binding" title="Link to this heading">¶</a></h2>
<p>The final topic to cover is the binding of popup menus to individual
widgets.  Popup menus are usually activated by mouse events bound to
particular widgets.  The Tk documentation discusses bindings of mouse
events to widgets for different OS’s and PAGE attempts to follow those
conventions.  This is one of the above mentioned hacks.  Note that a
GUI toplevel may have more than one context menu and also more that one widget
may be bound to a context menu.  As an example of the latter, see
<a class="reference internal" href="examples.html#lib-demo"><span class="std std-ref">Lib Demo</span></a>, a photo album like example which displays a number of
thumbnail images each of which can invoke the same popup menu.</p>
<p>Presumably almost any action of a widget can be bound to a popup
menu. However, PAGE supports only the binding of &lt;Button-3&gt; events to
a popup menu.</p>
<p>The preferred way to effect the binding of a popup menu to a widget is
by means of the “Binding …” entry from the context editor for that
widget. Some users prefer to set the binding from within the support
module. In that case the code in the support module is like the
following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">_w1</span><span class="o">.</span><span class="n">Entry1</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Button-3&gt;&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="n">_w1</span><span class="o">.</span><span class="n">popup1</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>This code works for Unix like systems and Windows but does not follow
the OSX conventions whereas the preferred way does. This binding
method has the capability of binding events other than &lt;Button-3&gt; to a
popup menu.</p>
<p>PAGE implements the callback functions for popups as module methods of
the GUI module because these functions are generated by PAGE. Other
callback functions are generated as skeletal functions in the support
module.  Callback functions for context menus and the menus themselves
have default names.  The context menus have default names like
Popupmenu1, Popupmenu2, etc. and the associated callback function
names are popup0, popup1, etc.  The latter names should be reserved
for popup callback functions. This is part of the hack mentioned in
the last paragraph.  However, they may be changed by altering the
“function name” attribute in the Attribute Editor. Since the user is
allowed to specify the function name of the popup function, PAGE
requires that the event &lt;Button-3&gt; be reserved for popup menus; that
is, do not bind &lt;Button-3&gt; to any other type of function. When popup
menus are the result of copy-paste operations the function name may be
different from what is expected. So check the function name in the
Attribute Editor before specifying the binding.</p>
<p>The event object which is passed to the popup routine contains a wealth
of information regarding the event that opened the menu, see
<a class="reference internal" href="use.html#event"><span class="std std-ref">event object</span></a>. However, there are times when you want to
pass a parameter from the GUI through the popup menu to a callback
routine in the support module. This is how. The def statement for a
popup menu in the generated support module looks like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">popup1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</pre></div>
</div>
<p>so using the bind menu, one wants the Button-3 event to invoke the
popup menu with something like in the GUI module:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">Button1</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Button-3&gt;&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="p">(</span><span class="n">e</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>using the binding menu:</p>
<img alt="_images/pop-binding.png" src="_images/pop-binding.png" />
<p>and set the command attribute in the popup menu to something like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span><span class="p">:</span><span class="n">zzz</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is that when the widget Button1 is selected with &lt;Button-3&gt;
the popup will appear and if the appropriate command is selected, then
the function zzz will be called with the argument ‘0’. See <a class="reference internal" href="examples.html#popup"><span class="std std-ref">Popup
example ‘positional’</span></a>.</p>
<p>If a popup menu is bound to a widget it is applicable for all
subwidgets of that widget. So if you bind a popup menu to the toplevel
widget and also bind another popup menu to a subwidget, say a button
then selecting the button with &lt;Button-3&gt; in Linux, both menus will
popup.</p>
</section>
<section id="menubutttons">
<h2>Menubutttons<a class="headerlink" href="#menubutttons" title="Link to this heading">¶</a></h2>
<p>Menubuttons are button widgets which when selected open a menu. There tk and
ttk versions. Their appearance and behavior are very similar to
simple button widgets. They have an indicator to distinguish the
widget as a menubutton, Tk menubuttons have an option which to control
the indicator.</p>
<p>There are several ways to create the associated menu - double clicking
on the widget, using the widget submenu of the context menu, or
selecting the menu option in the Attribute Editor.</p>
<p><strong>The main missing function is the ability to copy-and-paste menubuttons.</strong>
I hope to return to this issue for a future release.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PAGE</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="interface.html">The PAGE Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="preferences.html">Defaults and Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Module Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="themes.html">Styles and Themes</a></li>
<li class="toctree-l1"><a class="reference internal" href="use.html">Using PAGE</a></li>
<li class="toctree-l1"><a class="reference internal" href="use.html#saving-of-page-files">Saving of PAGE Files</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Menus</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#menu-attributes">Menu Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#menu-creation">Menu Creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#menu-editor">Menu Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#popup-callback-functions">Popup Callback Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#popup-menu-binding">Popup Menu Binding</a></li>
<li class="toctree-l2"><a class="reference internal" href="#menubutttons">Menubutttons</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rework.html">Rework</a></li>
<li class="toctree-l1"><a class="reference internal" href="rework.html#reuse">Reuse</a></li>
<li class="toctree-l1"><a class="reference internal" href="ttkwidget.html">Ttkwidgets Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="final.html">Epilogue</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="use.html" title="previous chapter">Using PAGE</a></li>
      <li>Next: <a href="rework.html" title="next chapter">Rework</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2008 - 2025 Donald Rozenberg.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/menu.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>